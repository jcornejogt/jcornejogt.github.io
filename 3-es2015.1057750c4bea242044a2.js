(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{lGXy:function(e,i,o){"use strict";o.r(i),o.d(i,"FeedPageModule",(function(){return A}));var r=o("zon2"),t=o("ofXK"),n=o("3Pt+"),s=o("spgP"),c=o("TEn/"),a=o("AytR"),l=o("tyNb"),d=o("mrSG"),b=o("fXoL"),u=o("I/3d");let m=(()=>{class e{constructor(e){this.firestore=e}createService(e){return this.firestore.collection("servicios").add(e)}getServices(){return this.firestore.collection("servicios").snapshotChanges()}getService(e){return this.firestore.collection("servicios").doc(e).snapshotChanges()}deleteService(e){return this.firestore.collection("servicios").doc(e).delete()}updateService(e,i){return this.firestore.collection("servicios").doc(e).set(i)}}return e.\u0275fac=function(i){return new(i||e)(b.Rb(u.a))},e.\u0275prov=b.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(e,i,o,r){this.ModalController=e,this.firebaseServiceService=i,this.router=o,this.formBuilder=r}ngOnInit(){this.viewServiceForm=this.formBuilder.group({userUid:["",n.j.required],id:["",n.j.required],nombreServicio:["",n.j.required],descripcionServicio:["",n.j.required],idProfesional:["",n.j.required]});let e=this.firebaseServiceService.getService(this.documentid).subscribe(i=>{this.viewServiceForm.setValue({id:this.documentid,userUid:i.payload.data().userUid,nombreServicio:i.payload.data().nombreServicio,idProfesional:i.payload.data().idProfesional,descripcionServicio:i.payload.data().descripcionServicio}),e.unsubscribe()})}dismissModal(){this.ModalController.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(c.I),b.Kb(m),b.Kb(l.g),b.Kb(n.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-modal-view-service"]],decls:21,vars:1,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio","disabled","true"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio","disabled","true"],["type","text","formControlName","idProfesional","disabled","true"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-title"),b.ic(3,"Ver Servicio"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Nb(5,"ion-button",2),b.Vb("click",(function(){return i.dismissModal()})),b.Lb(6,"ion-icon",3),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"ion-content"),b.Nb(8,"form",4),b.Nb(9,"ion-list"),b.Nb(10,"ion-item"),b.Lb(11,"ion-input",5),b.Nb(12,"ion-label",6),b.ic(13,"Nombre del Servicio"),b.Mb(),b.Lb(14,"ion-input",7),b.Nb(15,"ion-label",6),b.ic(16,"Descripcion del servicio"),b.Mb(),b.Lb(17,"ion-input",8),b.Nb(18,"ion-label",6),b.ic(19,"Profesional"),b.Mb(),b.Lb(20,"ion-input",9),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(8),b.ac("formGroup",i.viewServiceForm))},directives:[c.n,c.F,c.E,c.f,c.e,c.o,c.j,n.k,n.h,n.c,c.s,c.q,c.p,c.K,n.g,n.b,c.r],styles:[""]}),e})(),h=(()=>{class e{constructor(e,i,o,r){this.ModalController=e,this.firebaseServiceService=i,this.router=o,this.formBuilder=r}ngOnInit(){this.editServiceForm=this.formBuilder.group({userUid:["",n.j.required],id:["",n.j.required],nombreServicio:["",n.j.required],descripcionServicio:["",n.j.required],idProfesional:["",n.j.required]});let e=this.firebaseServiceService.getService(this.documentid).subscribe(i=>{this.editServiceForm.setValue({id:this.documentid,userUid:i.payload.data().userUid,nombreServicio:i.payload.data().nombreServicio,idProfesional:i.payload.data().idProfesional,descripcionServicio:i.payload.data().descripcionServicio}),e.unsubscribe()})}editService(e,i=this.documentid){this.firebaseServiceService.updateService(i,{id:e.id,userUid:e.userUid,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then(()=>{this.editServiceForm.setValue({id:"",userUid:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento editado exit\xf3samente"),this.dismissModal()},e=>{console.log(e)})}dismissModal(){this.ModalController.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(c.I),b.Kb(m),b.Kb(l.g),b.Kb(n.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-modal-edit-service"]],decls:24,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-title"),b.ic(3,"Editar servicio"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Nb(5,"ion-button",2),b.Vb("click",(function(){return i.dismissModal()})),b.Lb(6,"ion-icon",3),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"ion-content"),b.Nb(8,"form",4),b.Vb("ngSubmit",(function(){return i.editService(i.editServiceForm.value)})),b.Nb(9,"ion-list"),b.Nb(10,"ion-item"),b.Lb(11,"ion-input",5),b.Nb(12,"ion-label",6),b.ic(13,"Nombre del Servicio"),b.Mb(),b.Lb(14,"ion-input",7),b.Nb(15,"ion-label",6),b.ic(16,"Descripcion del servicio"),b.Mb(),b.Lb(17,"ion-input",8),b.Nb(18,"ion-label",6),b.ic(19,"Profesional"),b.Mb(),b.Lb(20,"ion-input",9),b.Nb(21,"ion-button",10),b.Lb(22,"ion-icon",11),b.ic(23," \xa0 Guardar "),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(8),b.ac("formGroup",i.editServiceForm),b.Ab(13),b.ac("disabled",!i.editServiceForm.valid))},directives:[c.n,c.F,c.E,c.f,c.e,c.o,c.j,n.k,n.h,n.c,c.s,c.q,c.p,c.K,n.g,n.b,c.r],styles:[""]}),e})(),v=(()=>{class e{constructor(e,i,o,r){this.ModalController=e,this.firebaseServiceService=i,this.router=o,this.formBuilder=r,this.documentId=null}ngOnInit(){this.serviceForm=this.formBuilder.group({userUid:[this.userUid,n.j.required],nombreServicio:["",n.j.required],descripcionServicio:["",n.j.required],idProfesional:["",n.j.required]})}addService(e,i=this.documentId){this.firebaseServiceService.createService({userUid:e.userUid,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then(()=>{this.serviceForm.setValue({userUid:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento creado exit\xf3samente!")}),this.dismissModal()}dismissModal(){this.ModalController.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(c.I),b.Kb(m),b.Kb(l.g),b.Kb(n.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-modal-add-service"]],inputs:{userUid:"userUid"},decls:26,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","userUid"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-title"),b.ic(3,"Agregar servicio"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Nb(5,"ion-button",2),b.Vb("click",(function(){return i.dismissModal()})),b.Lb(6,"ion-icon",3),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"ion-content"),b.Nb(8,"form",4),b.Vb("ngSubmit",(function(){return i.addService(i.serviceForm.value)})),b.Nb(9,"ion-list"),b.Lb(10,"ion-input",5),b.Nb(11,"ion-item"),b.Nb(12,"ion-label",6),b.ic(13,"Nombre del Servicio"),b.Mb(),b.Lb(14,"ion-input",7),b.Mb(),b.Nb(15,"ion-item"),b.Nb(16,"ion-label",6),b.ic(17,"Descripcion del servicio"),b.Mb(),b.Lb(18,"ion-input",8),b.Mb(),b.Nb(19,"ion-item"),b.Nb(20,"ion-label",6),b.ic(21,"Profesional"),b.Mb(),b.Lb(22,"ion-input",9),b.Mb(),b.Mb(),b.Nb(23,"ion-button",10),b.Lb(24,"ion-icon",11),b.ic(25," \xa0 Crear nuevo servicio "),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(8),b.ac("formGroup",i.serviceForm),b.Ab(15),b.ac("disabled",!i.serviceForm.valid))},directives:[c.n,c.F,c.E,c.f,c.e,c.o,c.j,n.k,n.h,n.c,c.s,c.p,c.K,n.g,n.b,c.q,c.r],styles:[""]}),e})(),f=(()=>{class e{constructor(e){this.alertController=e}ngOnInit(){}presentAlert(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){yield this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["OK"]}).then(e=>e.present())}))}presentAlertMultipleButtons(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){yield this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["Cancel","Open Modal","Delete"]}).then(e=>e.present())}))}presentAlertConfirm(e,i){return Object(d.__awaiter)(this,void 0,void 0,(function*(){let o;const r=new Promise(e=>{o=e}),t=yield this.alertController.create({cssClass:"my-custom-class",header:e,message:i,buttons:[{text:"Nel",role:"cancel",cssClass:"secondary",handler:()=>o(!1)},{text:"Vos dale",handler:()=>o(!0)}]});return yield t.present(),r}))}presentAlertPrompt(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"name1",type:"text",placeholder:"Placeholder 1"},{name:"name2",type:"text",id:"name2-id",value:"hello",placeholder:"Placeholder 2"},{name:"paragraph",id:"paragraph",type:"textarea",placeholder:"Placeholder 3"},{name:"name3",value:"http://ionicframework.com",type:"url",placeholder:"Favorite site ever"},{name:"name4",type:"date",min:"2017-03-01",max:"2018-01-12"},{name:"name5",type:"date"},{name:"name6",type:"number",min:-5,max:10},{name:"name7",type:"number"},{name:"name8",type:"password",placeholder:"Advanced Attributes",cssClass:"specialClass",attributes:{maxlength:4,inputmode:"decimal"}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}presentAlertRadio(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Radio",inputs:[{name:"radio1",type:"radio",label:"Radio 1",value:"value1",checked:!0},{name:"radio2",type:"radio",label:"Radio 2",value:"value2"},{name:"radio3",type:"radio",label:"Radio 3",value:"value3"},{name:"radio4",type:"radio",label:"Radio 4",value:"value4"},{name:"radio5",type:"radio",label:"Radio 5",value:"value5"},{name:"radio6",type:"radio",label:"Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 ",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}presentAlertCheckbox(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Checkbox",inputs:[{name:"checkbox1",type:"checkbox",label:"Checkbox 1",value:"value1",checked:!0},{name:"checkbox2",type:"checkbox",label:"Checkbox 2",value:"value2"},{name:"checkbox3",type:"checkbox",label:"Checkbox 3",value:"value3"},{name:"checkbox4",type:"checkbox",label:"Checkbox 4",value:"value4"},{name:"checkbox5",type:"checkbox",label:"Checkbox 5",value:"value5"},{name:"checkbox6",type:"checkbox",label:"Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(c.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-alerts"]],decls:2,vars:0,template:function(e,i){1&e&&(b.Nb(0,"p"),b.ic(1," alerts works!\n"),b.Mb())},styles:[""]}),e})();var S=o("lGQG"),y=o("UbJi");function g(e,i){if(1&e){const e=b.Ob();b.Nb(0,"ion-button",4),b.Vb("click",(function(){b.dc(e);const i=b.Xb().$implicit;return b.Xb().editService(i.id)})),b.Lb(1,"ion-icon",14),b.Mb()}}function C(e,i){if(1&e){const e=b.Ob();b.Nb(0,"ion-button",4),b.Vb("click",(function(){b.dc(e);const i=b.Xb().$implicit;return b.Xb().getViewServices(i.id)})),b.Lb(1,"ion-icon",15),b.Mb()}}function M(e,i){if(1&e){const e=b.Ob();b.Nb(0,"ion-button",4),b.Vb("click",(function(){b.dc(e);const i=b.Xb().$implicit;return b.Xb().removeService(i.id)})),b.Lb(1,"ion-icon",16),b.Mb()}}function N(e,i){1&e&&(b.Nb(0,"ion-button",17),b.Lb(1,"ion-icon",16),b.Mb())}function k(e,i){if(1&e&&(b.Nb(0,"ion-item"),b.Nb(1,"ion-thumbnail",1),b.Lb(2,"img",9),b.Mb(),b.Nb(3,"ion-label",10),b.Nb(4,"h2"),b.ic(5),b.Mb(),b.Nb(6,"p"),b.ic(7),b.Mb(),b.Nb(8,"p"),b.ic(9),b.Mb(),b.Mb(),b.gc(10,g,2,0,"ion-button",11),b.gc(11,C,2,0,"ng-template",null,12,b.hc),b.gc(13,M,2,0,"ion-button",11),b.gc(14,N,2,0,"ng-template",null,13,b.hc),b.Mb()),2&e){const e=i.$implicit,o=b.cc(12),r=b.cc(15),t=b.Xb();b.Ab(5),b.jc(e.data.nombreServicio),b.Ab(2),b.jc(e.data.idProfesional),b.Ab(2),b.jc(e.data.descripcionServicio),b.Ab(1),b.ac("ngIf",e.data.userUid==t.userUid&&1==t.isAdmin)("ngIfElse",o),b.Ab(3),b.ac("ngIf",e.data.userUid==t.userUid&&1==t.isAdmin)("ngIfElse",r)}}function x(e,i){if(1&e){const e=b.Ob();b.Nb(0,"ion-fab",18),b.Nb(1,"ion-fab-button",4),b.Vb("click",(function(){return b.dc(e),b.Xb().addService()})),b.Lb(2,"ion-icon",19),b.Mb(),b.Mb()}}const j=[{path:"",component:(()=>{class e{constructor(e,i,o,r,t,n,s){this.alertCntrl=e,this.router=i,this.firebaseServiceService=o,this.modalController=r,this.authSvc=t,this.afAuth=n,this.ngZone=s,this.services=[],this.isAdmin=null,this.userUid=null,this.alrt=new f(this.alertCntrl)}ngOnInit(){this.getServices(),this.getCurrentUser()}getServices(){this.services=[],this.firebaseServiceService.getServices().subscribe(e=>{e.forEach(e=>{this.services.push({id:e.payload.doc.id,data:e.payload.doc.data()})})})}getCurrentUser(){this.authSvc.isAuth().subscribe(e=>{e&&(this.userUid=e.uid,this.authSvc.isUserAdmin(this.userUid).subscribe(e=>{this.isAdmin=Object.assign({},e.roles),this.isAdmin=this.isAdmin.hasOwnProperty("professional")}))})}searchServices(e){const i=e.target.value;console.log("La busqueda es:"+i),this.services=[],this.firebaseServiceService.getService(i).subscribe(e=>{this.services.push({id:e.payload.id,data:e.payload.data()})})}editService(e){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:h,componentProps:{documentid:e}});i.onDidDismiss().then(e=>{this.getServices()}),i.present()}))}getViewServices(e){return Object(d.__awaiter)(this,void 0,void 0,(function*(){(yield this.modalController.create({component:p,componentProps:{documentid:e}})).present()}))}addService(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:v,componentProps:{userUid:this.userUid}});e.onDidDismiss().then(e=>{this.getServices()}),e.present()}))}removeService(e){return Object(d.__awaiter)(this,void 0,void 0,(function*(){(yield this.alrt.presentAlertConfirm("Suave chatel!","Seguro quer\xe9s borrar este servicio prix?"))?yield this.firebaseServiceService.deleteService(e).then(()=>{this.getServices(),console.log("Deleted")}):console.log("Canceled")}))}logOut(){console.log("Hasta pronto!"),this.authSvc.logout()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(c.a),b.Kb(l.g),b.Kb(m),b.Kb(c.I),b.Kb(S.a),b.Kb(y.a),b.Kb(b.z))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-feed"]],decls:15,vars:2,consts:[["color","primary",1,"center"],["slot","start"],["autoHide","true"],["slot","secondary"],[3,"click"],["name","exit-outline"],[3,"ionInput"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIfElse","ngIf"],["src","../../../assets/images/nicaBandera.png"],[1,"ion-text-wrap"],[3,"click",4,"ngIf","ngIfElse"],["noProfessional",""],["noProfessionalRemove",""],["name","create-outline"],["name","eye-outline"],["name","trash-outline"],["hidden","true","disabled","true"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-circle"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-buttons",1),b.Lb(3,"ion-menu-button",2),b.Mb(),b.Nb(4,"ion-buttons",3),b.Nb(5,"ion-button",4),b.Vb("click",(function(){return i.logOut()})),b.Lb(6,"ion-icon",5),b.Mb(),b.Mb(),b.Nb(7,"ion-title"),b.ic(8,"Servicios"),b.Mb(),b.Mb(),b.Mb(),b.Nb(9,"ion-content"),b.Nb(10,"ion-searchbar",6),b.Vb("ionInput",(function(e){return i.searchServices(e)})),b.Mb(),b.Nb(11,"ion-grid"),b.Nb(12,"ion-list"),b.gc(13,k,16,7,"ion-item",7),b.Mb(),b.Mb(),b.gc(14,x,3,0,"ion-fab",8),b.Mb()),2&e&&(b.Ab(13),b.ac("ngForOf",i.services),b.Ab(1),b.ac("ngIf",i.userUid&&1==i.isAdmin))},directives:[c.n,c.F,c.f,c.u,c.e,c.o,c.E,c.j,c.x,c.K,c.m,c.s,t.h,t.i,c.q,c.D,c.r,c.k,c.l],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[l.i.forChild(j)],l.i]}),e})(),A=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[r.a,t.b,n.d,n.i,c.G,w,s.a.initializeApp(a.a.firebase)]]}),e})()}}]);