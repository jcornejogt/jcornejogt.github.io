(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{lGXy:function(e,i,o){"use strict";o.r(i),o.d(i,"FeedPageModule",(function(){return M}));var t=o("zon2"),r=o("ofXK"),n=o("3Pt+"),c=o("spgP"),s=o("TEn/"),a=o("AytR"),l=o("tyNb"),d=o("mrSG"),b=o("fXoL"),u=o("I/3d");let m=(()=>{class e{constructor(e){this.firestore=e}createService(e){return this.firestore.collection("servicios").add(e)}getServices(){return this.firestore.collection("servicios").snapshotChanges()}getService(e){return this.firestore.collection("servicios").doc(e).snapshotChanges()}deleteService(e){return this.firestore.collection("servicios").doc(e).delete()}updateService(e,i){return this.firestore.collection("servicios").doc(e).set(i)}}return e.\u0275fac=function(i){return new(i||e)(b.Rb(u.a))},e.\u0275prov=b.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e{constructor(e,i,o,t){this.ModalController=e,this.firebaseServiceService=i,this.router=o,this.formBuilder=t,this.editServiceForm=t.group({id:["",n.j.required],nombreServicio:["",n.j.required],descripcionServicio:["",n.j.required],idProfesional:["",n.j.required]})}ngOnInit(){let e=this.firebaseServiceService.getService(this.documentid).subscribe(i=>{this.editServiceForm.setValue({id:this.documentid,nombreServicio:i.payload.data().nombreServicio,idProfesional:i.payload.data().idProfesional,descripcionServicio:i.payload.data().descripcionServicio}),e.unsubscribe()})}editService(e,i=this.documentid){this.firebaseServiceService.updateService(i,{id:e.id,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then(()=>{this.editServiceForm.setValue({id:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento editado exit\xf3samente"),this.ModalController.dismiss()},e=>{console.log(e)})}dismissModal(){this.ModalController.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(s.H),b.Kb(m),b.Kb(l.g),b.Kb(n.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-modal-edit-service"]],decls:24,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-title"),b.gc(3,"Editar servicio"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Nb(5,"ion-button",2),b.Vb("click",(function(){return i.dismissModal()})),b.Lb(6,"ion-icon",3),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"ion-content"),b.Nb(8,"form",4),b.Vb("ngSubmit",(function(){return i.editService(i.editServiceForm.value)})),b.Nb(9,"ion-list"),b.Nb(10,"ion-item"),b.Lb(11,"ion-input",5),b.Nb(12,"ion-label",6),b.gc(13,"Nombre del Servicio"),b.Mb(),b.Lb(14,"ion-input",7),b.Nb(15,"ion-label",6),b.gc(16,"Descripcion del servicio"),b.Mb(),b.Lb(17,"ion-input",8),b.Nb(18,"ion-label",6),b.gc(19,"Profesional"),b.Mb(),b.Lb(20,"ion-input",9),b.Nb(21,"ion-button",10),b.Lb(22,"ion-icon",11),b.gc(23," \xa0 Guardar "),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(8),b.ac("formGroup",i.editServiceForm),b.Ab(13),b.ac("disabled",!i.editServiceForm.valid))},directives:[s.m,s.E,s.D,s.f,s.e,s.n,s.j,n.k,n.h,n.c,s.r,s.p,s.o,s.J,n.g,n.b,s.q],styles:[""]}),e})(),v=(()=>{class e{constructor(e,i,o,t){this.ModalController=e,this.firebaseServiceService=i,this.router=o,this.formBuilder=t,this.documentId=null,this.serviceForm=t.group({nombreServicio:["",n.j.required],descripcionServicio:["",n.j.required],idProfesional:["",n.j.required]})}ngOnInit(){}addService(e,i=this.documentId){this.firebaseServiceService.createService({nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then(()=>{console.log("Documento creado exit\xf3samente!"),this.serviceForm.setValue({nombreServicio:"",idProfesional:"",descripcionServicio:""})}),this.dismissModal()}dismissModal(){this.ModalController.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(s.H),b.Kb(m),b.Kb(l.g),b.Kb(n.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-modal-add-service"]],decls:25,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-title"),b.gc(3,"Agregar servicio"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Nb(5,"ion-button",2),b.Vb("click",(function(){return i.dismissModal()})),b.Lb(6,"ion-icon",3),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"ion-content"),b.Nb(8,"form",4),b.Vb("ngSubmit",(function(){return i.addService(i.serviceForm.value)})),b.Nb(9,"ion-list"),b.Nb(10,"ion-item"),b.Nb(11,"ion-label",5),b.gc(12,"Nombre del Servicio"),b.Mb(),b.Lb(13,"ion-input",6),b.Mb(),b.Nb(14,"ion-item"),b.Nb(15,"ion-label",5),b.gc(16,"Descripcion del servicio"),b.Mb(),b.Lb(17,"ion-input",7),b.Mb(),b.Nb(18,"ion-item"),b.Nb(19,"ion-label",5),b.gc(20,"Profesional"),b.Mb(),b.Lb(21,"ion-input",8),b.Mb(),b.Mb(),b.Nb(22,"ion-button",9),b.Lb(23,"ion-icon",10),b.gc(24," \xa0 Crear nuevo servicio "),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(8),b.ac("formGroup",i.serviceForm),b.Ab(14),b.ac("disabled",!i.serviceForm.valid))},directives:[s.m,s.E,s.D,s.f,s.e,s.n,s.j,n.k,n.h,n.c,s.r,s.p,s.q,s.o,s.J,n.g,n.b],styles:[""]}),e})(),p=(()=>{class e{constructor(e){this.alertController=e}ngOnInit(){}presentAlert(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){yield this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["OK"]}).then(e=>e.present())}))}presentAlertMultipleButtons(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){yield this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["Cancel","Open Modal","Delete"]}).then(e=>e.present())}))}presentAlertConfirm(e,i){return Object(d.__awaiter)(this,void 0,void 0,(function*(){let o;const t=new Promise(e=>{o=e}),r=yield this.alertController.create({cssClass:"my-custom-class",header:e,message:i,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>o(!1)},{text:"Si",handler:()=>o(!0)}]});return yield r.present(),t}))}presentAlertPrompt(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"name1",type:"text",placeholder:"Placeholder 1"},{name:"name2",type:"text",id:"name2-id",value:"hello",placeholder:"Placeholder 2"},{name:"paragraph",id:"paragraph",type:"textarea",placeholder:"Placeholder 3"},{name:"name3",value:"http://ionicframework.com",type:"url",placeholder:"Favorite site ever"},{name:"name4",type:"date",min:"2017-03-01",max:"2018-01-12"},{name:"name5",type:"date"},{name:"name6",type:"number",min:-5,max:10},{name:"name7",type:"number"},{name:"name8",type:"password",placeholder:"Advanced Attributes",cssClass:"specialClass",attributes:{maxlength:4,inputmode:"decimal"}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}presentAlertRadio(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Radio",inputs:[{name:"radio1",type:"radio",label:"Radio 1",value:"value1",checked:!0},{name:"radio2",type:"radio",label:"Radio 2",value:"value2"},{name:"radio3",type:"radio",label:"Radio 3",value:"value3"},{name:"radio4",type:"radio",label:"Radio 4",value:"value4"},{name:"radio5",type:"radio",label:"Radio 5",value:"value5"},{name:"radio6",type:"radio",label:"Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 ",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}presentAlertCheckbox(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Checkbox",inputs:[{name:"checkbox1",type:"checkbox",label:"Checkbox 1",value:"value1",checked:!0},{name:"checkbox2",type:"checkbox",label:"Checkbox 2",value:"value2"},{name:"checkbox3",type:"checkbox",label:"Checkbox 3",value:"value3"},{name:"checkbox4",type:"checkbox",label:"Checkbox 4",value:"value4"},{name:"checkbox5",type:"checkbox",label:"Checkbox 5",value:"value5"},{name:"checkbox6",type:"checkbox",label:"Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:()=>{console.log("Confirm Ok")}}]});yield e.present()}))}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(s.a))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-alerts"]],decls:2,vars:0,template:function(e,i){1&e&&(b.Nb(0,"p"),b.gc(1," alerts works!\n"),b.Mb())},styles:[""]}),e})();var f=o("lGQG"),S=o("UbJi");function y(e,i){if(1&e){const e=b.Ob();b.Nb(0,"ion-item"),b.Nb(1,"ion-thumbnail",1),b.Lb(2,"img",10),b.Mb(),b.Nb(3,"ion-label",11),b.Nb(4,"h2"),b.gc(5),b.Mb(),b.Nb(6,"p"),b.gc(7),b.Mb(),b.Nb(8,"p"),b.gc(9),b.Mb(),b.Mb(),b.Nb(10,"ion-button",4),b.Vb("click",(function(){b.cc(e);const o=i.$implicit;return b.Xb().editService(o.id)})),b.Lb(11,"ion-icon",12),b.Mb(),b.Nb(12,"ion-button",4),b.Vb("click",(function(){b.cc(e);const o=i.$implicit;return b.Xb().removeService(o.id)})),b.Lb(13,"ion-icon",13),b.Mb(),b.Mb()}if(2&e){const e=i.$implicit;b.Ab(5),b.hc(e.data.nombreServicio),b.Ab(2),b.hc(e.data.idProfesional),b.Ab(2),b.hc(e.data.descripcionServicio)}}const g=[{path:"",component:(()=>{class e{constructor(e,i,o,t,r,n,c){this.alertCntrl=e,this.router=i,this.firebaseServiceService=o,this.modalController=t,this.authSvc=r,this.afAuth=n,this.ngZone=c,this.services=[],this.isAdmin=null,this.userUid=null,this.alrt=new p(this.alertCntrl)}ngOnInit(){this.getServices()}getServices(){this.services=[],this.firebaseServiceService.getServices().subscribe(e=>{e.forEach(e=>{this.services.push({id:e.payload.doc.id,data:e.payload.doc.data()})})})}getCurrentUser(){this.authSvc.isAuth().subscribe(e=>{e&&(this.userUid=e.uid,this.authSvc.isUserAdmin(this.userUid).subscribe(e=>{this.isAdmin=Object.assign({},e.roles),this.isAdmin=this.isAdmin.hasOwnProperty("admin")}))})}searchServices(e){const i=e.target.value;console.log("La busqueda es:"+i),this.services=[],this.firebaseServiceService.getService(i).subscribe(e=>{this.services.push({id:e.payload.id,data:e.payload.data()})})}editService(e){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:h,componentProps:{documentid:e}});i.onDidDismiss().then(e=>{this.getServices()}),i.present()}))}addService(){return Object(d.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:v});e.onDidDismiss().then(e=>{this.getServices()}),e.present()}))}removeService(e){return Object(d.__awaiter)(this,void 0,void 0,(function*(){(yield this.alrt.presentAlertConfirm("Suave chatel!","Estas seguro que deseas borrar este servicio prix?"))?yield this.firebaseServiceService.deleteService(e).then(()=>{this.getServices(),console.log("Deleted")}):console.log("Canceled")}))}logOut(){console.log("Hasta pronto!"),this.authSvc.logout()}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(s.a),b.Kb(l.g),b.Kb(m),b.Kb(s.H),b.Kb(f.a),b.Kb(S.a),b.Kb(b.z))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-feed"]],decls:16,vars:1,consts:[["color","primary",1,"center"],["slot","start"],["autoHide","true"],["slot","secondary"],[3,"click"],["name","exit-outline"],[3,"ionInput"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-circle"],["src","../../../assets/images/nicaBandera.png"],[1,"ion-text-wrap"],["name","create-outline"],["name","trash-outline"]],template:function(e,i){1&e&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-buttons",1),b.Lb(3,"ion-menu-button",2),b.Mb(),b.Nb(4,"ion-buttons",3),b.Nb(5,"ion-button",4),b.Vb("click",(function(){return i.logOut()})),b.Lb(6,"ion-icon",5),b.Mb(),b.Mb(),b.Nb(7,"ion-title"),b.gc(8,"Servicios"),b.Mb(),b.Mb(),b.Mb(),b.Nb(9,"ion-content"),b.Nb(10,"ion-searchbar",6),b.Vb("ionInput",(function(e){return i.searchServices(e)})),b.Mb(),b.Nb(11,"ion-list"),b.fc(12,y,14,3,"ion-item",7),b.Mb(),b.Nb(13,"ion-fab",8),b.Nb(14,"ion-fab-button",4),b.Vb("click",(function(){return i.addService()})),b.Lb(15,"ion-icon",9),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.Ab(12),b.ac("ngForOf",i.services))},directives:[s.m,s.E,s.f,s.t,s.e,s.n,s.D,s.j,s.w,s.J,s.r,r.h,s.k,s.l,s.p,s.C,s.q],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]}),e})()}];let C=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[l.i.forChild(g)],l.i]}),e})(),M=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[t.a,r.b,n.d,n.i,s.F,C,c.a.initializeApp(a.a.firebase)]]}),e})()}}]);