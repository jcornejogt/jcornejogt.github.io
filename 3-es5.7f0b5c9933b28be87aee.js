function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{lGXy:function(e,t,i){"use strict";i.r(t),i.d(t,"FeedPageModule",(function(){return P}));var r,n,o,a,c=i("zon2"),s=i("ofXK"),l=i("3Pt+"),u=i("spgP"),b=i("TEn/"),d=i("AytR"),v=i("tyNb"),m=i("mrSG"),h=i("fXoL"),p=i("I/3d"),f=((a=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"createService",value:function(e){return this.firestore.collection("servicios").add(e)}},{key:"getServices",value:function(){return this.firestore.collection("servicios").snapshotChanges()}},{key:"getService",value:function(e){return this.firestore.collection("servicios").doc(e).snapshotChanges()}},{key:"deleteService",value:function(e){return this.firestore.collection("servicios").doc(e).delete()}},{key:"updateService",value:function(e,t){return this.firestore.collection("servicios").doc(e).set(t)}}]),e}()).\u0275fac=function(e){return new(e||a)(h.Rb(p.a))},a.\u0275prov=h.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),g=((o=function(){function e(t,i,r,n){_classCallCheck(this,e),this.ModalController=t,this.firebaseServiceService=i,this.router=r,this.formBuilder=n,this.editServiceForm=n.group({id:["",l.j.required],nombreServicio:["",l.j.required],descripcionServicio:["",l.j.required],idProfesional:["",l.j.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.firebaseServiceService.getService(this.documentid).subscribe((function(i){e.editServiceForm.setValue({id:e.documentid,nombreServicio:i.payload.data().nombreServicio,idProfesional:i.payload.data().idProfesional,descripcionServicio:i.payload.data().descripcionServicio}),t.unsubscribe()}))}},{key:"editService",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentid;this.firebaseServiceService.updateService(i,{id:e.id,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then((function(){t.editServiceForm.setValue({id:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento editado exit\xf3samente"),t.ModalController.dismiss()}),(function(e){console.log(e)}))}},{key:"dismissModal",value:function(){this.ModalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||o)(h.Kb(b.H),h.Kb(f),h.Kb(v.g),h.Kb(l.a))},o.\u0275cmp=h.Eb({type:o,selectors:[["app-modal-edit-service"]],decls:24,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,t){1&e&&(h.Nb(0,"ion-header"),h.Nb(1,"ion-toolbar",0),h.Nb(2,"ion-title"),h.gc(3,"Editar servicio"),h.Mb(),h.Nb(4,"ion-buttons",1),h.Nb(5,"ion-button",2),h.Vb("click",(function(){return t.dismissModal()})),h.Lb(6,"ion-icon",3),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(7,"ion-content"),h.Nb(8,"form",4),h.Vb("ngSubmit",(function(){return t.editService(t.editServiceForm.value)})),h.Nb(9,"ion-list"),h.Nb(10,"ion-item"),h.Lb(11,"ion-input",5),h.Nb(12,"ion-label",6),h.gc(13,"Nombre del Servicio"),h.Mb(),h.Lb(14,"ion-input",7),h.Nb(15,"ion-label",6),h.gc(16,"Descripcion del servicio"),h.Mb(),h.Lb(17,"ion-input",8),h.Nb(18,"ion-label",6),h.gc(19,"Profesional"),h.Mb(),h.Lb(20,"ion-input",9),h.Nb(21,"ion-button",10),h.Lb(22,"ion-icon",11),h.gc(23," \xa0 Guardar "),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Mb()),2&e&&(h.Ab(8),h.ac("formGroup",t.editServiceForm),h.Ab(13),h.ac("disabled",!t.editServiceForm.valid))},directives:[b.m,b.E,b.D,b.f,b.e,b.n,b.j,l.k,l.h,l.c,b.r,b.p,b.o,b.J,l.g,l.b,b.q],styles:[""]}),o),k=((n=function(){function e(t,i,r,n){_classCallCheck(this,e),this.ModalController=t,this.firebaseServiceService=i,this.router=r,this.formBuilder=n,this.documentId=null,this.serviceForm=n.group({nombreServicio:["",l.j.required],descripcionServicio:["",l.j.required],idProfesional:["",l.j.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addService",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentId,this.firebaseServiceService.createService({nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then((function(){console.log("Documento creado exit\xf3samente!"),t.serviceForm.setValue({nombreServicio:"",idProfesional:"",descripcionServicio:""})})),this.dismissModal()}},{key:"dismissModal",value:function(){this.ModalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||n)(h.Kb(b.H),h.Kb(f),h.Kb(v.g),h.Kb(l.a))},n.\u0275cmp=h.Eb({type:n,selectors:[["app-modal-add-service"]],decls:25,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,t){1&e&&(h.Nb(0,"ion-header"),h.Nb(1,"ion-toolbar",0),h.Nb(2,"ion-title"),h.gc(3,"Agregar servicio"),h.Mb(),h.Nb(4,"ion-buttons",1),h.Nb(5,"ion-button",2),h.Vb("click",(function(){return t.dismissModal()})),h.Lb(6,"ion-icon",3),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(7,"ion-content"),h.Nb(8,"form",4),h.Vb("ngSubmit",(function(){return t.addService(t.serviceForm.value)})),h.Nb(9,"ion-list"),h.Nb(10,"ion-item"),h.Nb(11,"ion-label",5),h.gc(12,"Nombre del Servicio"),h.Mb(),h.Lb(13,"ion-input",6),h.Mb(),h.Nb(14,"ion-item"),h.Nb(15,"ion-label",5),h.gc(16,"Descripcion del servicio"),h.Mb(),h.Lb(17,"ion-input",7),h.Mb(),h.Nb(18,"ion-item"),h.Nb(19,"ion-label",5),h.gc(20,"Profesional"),h.Mb(),h.Lb(21,"ion-input",8),h.Mb(),h.Mb(),h.Nb(22,"ion-button",9),h.Lb(23,"ion-icon",10),h.gc(24," \xa0 Crear nuevo servicio "),h.Mb(),h.Mb(),h.Mb()),2&e&&(h.Ab(8),h.ac("formGroup",t.serviceForm),h.Ab(14),h.ac("disabled",!t.serviceForm.valid))},directives:[b.m,b.E,b.D,b.f,b.e,b.n,b.j,l.k,l.h,l.c,b.r,b.p,b.q,b.o,b.J,l.g,l.b],styles:[""]}),n),y=((r=function(){function e(t){_classCallCheck(this,e),this.alertController=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"presentAlert",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["OK"]}).then((function(e){return e.present()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertMultipleButtons",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["Cancel","Open Modal","Delete"]}).then((function(e){return e.present()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertConfirm",value:function(e,t){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r,n,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=new Promise((function(e){r=e})),i.next=3,this.alertController.create({cssClass:"my-custom-class",header:e,message:t,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(){return r(!1)}},{text:"Si",handler:function(){return r(!0)}}]});case 3:return o=i.sent,i.next=6,o.present();case 6:return i.abrupt("return",n);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"presentAlertPrompt",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"name1",type:"text",placeholder:"Placeholder 1"},{name:"name2",type:"text",id:"name2-id",value:"hello",placeholder:"Placeholder 2"},{name:"paragraph",id:"paragraph",type:"textarea",placeholder:"Placeholder 3"},{name:"name3",value:"http://ionicframework.com",type:"url",placeholder:"Favorite site ever"},{name:"name4",type:"date",min:"2017-03-01",max:"2018-01-12"},{name:"name5",type:"date"},{name:"name6",type:"number",min:-5,max:10},{name:"name7",type:"number"},{name:"name8",type:"password",placeholder:"Advanced Attributes",cssClass:"specialClass",attributes:{maxlength:4,inputmode:"decimal"}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertRadio",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Radio",inputs:[{name:"radio1",type:"radio",label:"Radio 1",value:"value1",checked:!0},{name:"radio2",type:"radio",label:"Radio 2",value:"value2"},{name:"radio3",type:"radio",label:"Radio 3",value:"value3"},{name:"radio4",type:"radio",label:"Radio 4",value:"value4"},{name:"radio5",type:"radio",label:"Radio 5",value:"value5"},{name:"radio6",type:"radio",label:"Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 ",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertCheckbox",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Checkbox",inputs:[{name:"checkbox1",type:"checkbox",label:"Checkbox 1",value:"value1",checked:!0},{name:"checkbox2",type:"checkbox",label:"Checkbox 2",value:"value2"},{name:"checkbox3",type:"checkbox",label:"Checkbox 3",value:"value3"},{name:"checkbox4",type:"checkbox",label:"Checkbox 4",value:"value4"},{name:"checkbox5",type:"checkbox",label:"Checkbox 5",value:"value5"},{name:"checkbox6",type:"checkbox",label:"Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||r)(h.Kb(b.a))},r.\u0275cmp=h.Eb({type:r,selectors:[["app-alerts"]],decls:2,vars:0,template:function(e,t){1&e&&(h.Nb(0,"p"),h.gc(1," alerts works!\n"),h.Mb())},styles:[""]}),r),C=i("lGQG"),S=i("UbJi");function x(e,t){if(1&e){var i=h.Ob();h.Nb(0,"ion-item"),h.Nb(1,"ion-thumbnail",1),h.Lb(2,"img",10),h.Mb(),h.Nb(3,"ion-label",11),h.Nb(4,"h2"),h.gc(5),h.Mb(),h.Nb(6,"p"),h.gc(7),h.Mb(),h.Nb(8,"p"),h.gc(9),h.Mb(),h.Mb(),h.Nb(10,"ion-button",4),h.Vb("click",(function(){h.cc(i);var e=t.$implicit;return h.Xb().editService(e.id)})),h.Lb(11,"ion-icon",12),h.Mb(),h.Nb(12,"ion-button",4),h.Vb("click",(function(){h.cc(i);var e=t.$implicit;return h.Xb().removeService(e.id)})),h.Lb(13,"ion-icon",13),h.Mb(),h.Mb()}if(2&e){var r=t.$implicit;h.Ab(5),h.hc(r.data.nombreServicio),h.Ab(2),h.hc(r.data.idProfesional),h.Ab(2),h.hc(r.data.descripcionServicio)}}var M,N,w,R=[{path:"",component:(M=function(){function e(t,i,r,n,o,a,c){_classCallCheck(this,e),this.alertCntrl=t,this.router=i,this.firebaseServiceService=r,this.modalController=n,this.authSvc=o,this.afAuth=a,this.ngZone=c,this.services=[],this.isAdmin=null,this.userUid=null,this.alrt=new y(this.alertCntrl)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getServices()}},{key:"getServices",value:function(){var e=this;this.services=[],this.firebaseServiceService.getServices().subscribe((function(t){t.forEach((function(t){e.services.push({id:t.payload.doc.id,data:t.payload.doc.data()})}))}))}},{key:"getCurrentUser",value:function(){var e=this;this.authSvc.isAuth().subscribe((function(t){t&&(e.userUid=t.uid,e.authSvc.isUserAdmin(e.userUid).subscribe((function(t){e.isAdmin=Object.assign({},t.roles),e.isAdmin=e.isAdmin.hasOwnProperty("admin")})))}))}},{key:"searchServices",value:function(e){var t=this,i=e.target.value;console.log("La busqueda es:"+i),this.services=[],this.firebaseServiceService.getService(i).subscribe((function(e){t.services.push({id:e.payload.id,data:e.payload.data()})}))}},{key:"editService",value:function(e){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:g,componentProps:{documentid:e}});case 2:(i=t.sent).onDidDismiss().then((function(e){r.getServices()})),i.present();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"addService",value:function(){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:k});case 2:(t=e.sent).onDidDismiss().then((function(e){i.getServices()})),t.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"removeService",value:function(e){return Object(m.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alrt.presentAlertConfirm("Suave chatel!","Estas seguro que deseas borrar este servicio prix?");case 2:if(!t.sent){t.next=7;break}return t.next=5,this.firebaseServiceService.deleteService(e).then((function(){i.getServices(),console.log("Deleted")}));case 5:t.next=8;break;case 7:console.log("Canceled");case 8:case"end":return t.stop()}}),t,this)})))}},{key:"logOut",value:function(){console.log("Hasta pronto!"),this.authSvc.logout()}}]),e}(),M.\u0275fac=function(e){return new(e||M)(h.Kb(b.a),h.Kb(v.g),h.Kb(f),h.Kb(b.H),h.Kb(C.a),h.Kb(S.a),h.Kb(h.z))},M.\u0275cmp=h.Eb({type:M,selectors:[["app-feed"]],decls:16,vars:1,consts:[["color","primary",1,"center"],["slot","start"],["autoHide","true"],["slot","secondary"],[3,"click"],["name","exit-outline"],[3,"ionInput"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-circle"],["src","../../../assets/images/nicaBandera.png"],[1,"ion-text-wrap"],["name","create-outline"],["name","trash-outline"]],template:function(e,t){1&e&&(h.Nb(0,"ion-header"),h.Nb(1,"ion-toolbar",0),h.Nb(2,"ion-buttons",1),h.Lb(3,"ion-menu-button",2),h.Mb(),h.Nb(4,"ion-buttons",3),h.Nb(5,"ion-button",4),h.Vb("click",(function(){return t.logOut()})),h.Lb(6,"ion-icon",5),h.Mb(),h.Mb(),h.Nb(7,"ion-title"),h.gc(8,"Servicios"),h.Mb(),h.Mb(),h.Mb(),h.Nb(9,"ion-content"),h.Nb(10,"ion-searchbar",6),h.Vb("ionInput",(function(e){return t.searchServices(e)})),h.Mb(),h.Nb(11,"ion-list"),h.fc(12,x,14,3,"ion-item",7),h.Mb(),h.Nb(13,"ion-fab",8),h.Nb(14,"ion-fab-button",4),h.Vb("click",(function(){return t.addService()})),h.Lb(15,"ion-icon",9),h.Mb(),h.Mb(),h.Mb()),2&e&&(h.Ab(12),h.ac("ngForOf",t.services))},directives:[b.m,b.E,b.f,b.t,b.e,b.n,b.D,b.j,b.w,b.J,b.r,s.h,b.k,b.l,b.p,b.C,b.q],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]}),M)}],_=((w=function e(){_classCallCheck(this,e)}).\u0275mod=h.Ib({type:w}),w.\u0275inj=h.Hb({factory:function(e){return new(e||w)},imports:[[v.i.forChild(R)],v.i]}),w),P=((N=function e(){_classCallCheck(this,e)}).\u0275mod=h.Ib({type:N}),N.\u0275inj=h.Hb({factory:function(e){return new(e||N)},imports:[[c.a,s.b,l.d,l.i,b.F,_,u.a.initializeApp(d.a.firebase)]]}),N)}}]);