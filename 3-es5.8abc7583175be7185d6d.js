function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{lGXy:function(e,i,t){"use strict";t.r(i),t.d(i,"FeedPageModule",(function(){return I}));var n,r,o,a,c=t("zon2"),s=t("ofXK"),l=t("3Pt+"),u=t("spgP"),d=t("TEn/"),b=t("AytR"),m=t("tyNb"),v=t("mrSG"),f=t("fXoL"),h=t("I/3d"),p=((a=function(){function e(i){_classCallCheck(this,e),this.firestore=i}return _createClass(e,[{key:"createService",value:function(e){return this.firestore.collection("servicios").add(e)}},{key:"getServices",value:function(){return this.firestore.collection("servicios").snapshotChanges()}},{key:"getService",value:function(e){return this.firestore.collection("servicios").doc(e).snapshotChanges()}},{key:"deleteService",value:function(e){return this.firestore.collection("servicios").doc(e).delete()}},{key:"updateService",value:function(e,i){return this.firestore.collection("servicios").doc(e).set(i)}}]),e}()).\u0275fac=function(e){return new(e||a)(f.Rb(h.a))},a.\u0275prov=f.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),g=((o=function(){function e(i,t,n,r){_classCallCheck(this,e),this.ModalController=i,this.firebaseServiceService=t,this.router=n,this.formBuilder=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.editServiceForm=this.formBuilder.group({userUid:["",l.j.required],id:["",l.j.required],nombreServicio:["",l.j.required],descripcionServicio:["",l.j.required],idProfesional:["",l.j.required]});var i=this.firebaseServiceService.getService(this.documentid).subscribe((function(t){e.editServiceForm.setValue({id:e.documentid,userUid:t.payload.data().userUid,nombreServicio:t.payload.data().nombreServicio,idProfesional:t.payload.data().idProfesional,descripcionServicio:t.payload.data().descripcionServicio}),i.unsubscribe()}))}},{key:"editService",value:function(e){var i=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentid;this.firebaseServiceService.updateService(t,{id:e.id,userUid:e.userUid,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then((function(){i.editServiceForm.setValue({id:"",userUid:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento editado exit\xf3samente"),i.dismissModal()}),(function(e){console.log(e)}))}},{key:"dismissModal",value:function(){this.ModalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||o)(f.Kb(d.I),f.Kb(p),f.Kb(m.g),f.Kb(l.a))},o.\u0275cmp=f.Eb({type:o,selectors:[["app-modal-edit-service"]],decls:24,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar",0),f.Nb(2,"ion-title"),f.ic(3,"Editar servicio"),f.Mb(),f.Nb(4,"ion-buttons",1),f.Nb(5,"ion-button",2),f.Vb("click",(function(){return i.dismissModal()})),f.Lb(6,"ion-icon",3),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(7,"ion-content"),f.Nb(8,"form",4),f.Vb("ngSubmit",(function(){return i.editService(i.editServiceForm.value)})),f.Nb(9,"ion-list"),f.Nb(10,"ion-item"),f.Lb(11,"ion-input",5),f.Nb(12,"ion-label",6),f.ic(13,"Nombre del Servicio"),f.Mb(),f.Lb(14,"ion-input",7),f.Nb(15,"ion-label",6),f.ic(16,"Descripcion del servicio"),f.Mb(),f.Lb(17,"ion-input",8),f.Nb(18,"ion-label",6),f.ic(19,"Profesional"),f.Mb(),f.Lb(20,"ion-input",9),f.Nb(21,"ion-button",10),f.Lb(22,"ion-icon",11),f.ic(23," \xa0 Guardar "),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&e&&(f.Ab(8),f.ac("formGroup",i.editServiceForm),f.Ab(13),f.ac("disabled",!i.editServiceForm.valid))},directives:[d.n,d.F,d.E,d.f,d.e,d.o,d.j,l.k,l.h,l.c,d.s,d.q,d.p,d.K,l.g,l.b,d.r],styles:[""]}),o),k=((r=function(){function e(i,t,n,r){_classCallCheck(this,e),this.ModalController=i,this.firebaseServiceService=t,this.router=n,this.formBuilder=r,this.documentId=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.serviceForm=this.formBuilder.group({userUid:[this.userUid,l.j.required],nombreServicio:["",l.j.required],descripcionServicio:["",l.j.required],idProfesional:["",l.j.required]})}},{key:"addService",value:function(e){var i=this;arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentId,this.firebaseServiceService.createService({userUid:e.userUid,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then((function(){i.serviceForm.setValue({userUid:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento creado exit\xf3samente!")})),this.dismissModal()}},{key:"dismissModal",value:function(){this.ModalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||r)(f.Kb(d.I),f.Kb(p),f.Kb(m.g),f.Kb(l.a))},r.\u0275cmp=f.Eb({type:r,selectors:[["app-modal-add-service"]],inputs:{userUid:"userUid"},decls:26,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],["name","close-circle-outline"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","userUid"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit",3,"disabled"],["name","save-outline"]],template:function(e,i){1&e&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar",0),f.Nb(2,"ion-title"),f.ic(3,"Agregar servicio"),f.Mb(),f.Nb(4,"ion-buttons",1),f.Nb(5,"ion-button",2),f.Vb("click",(function(){return i.dismissModal()})),f.Lb(6,"ion-icon",3),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(7,"ion-content"),f.Nb(8,"form",4),f.Vb("ngSubmit",(function(){return i.addService(i.serviceForm.value)})),f.Nb(9,"ion-list"),f.Lb(10,"ion-input",5),f.Nb(11,"ion-item"),f.Nb(12,"ion-label",6),f.ic(13,"Nombre del Servicio"),f.Mb(),f.Lb(14,"ion-input",7),f.Mb(),f.Nb(15,"ion-item"),f.Nb(16,"ion-label",6),f.ic(17,"Descripcion del servicio"),f.Mb(),f.Lb(18,"ion-input",8),f.Mb(),f.Nb(19,"ion-item"),f.Nb(20,"ion-label",6),f.ic(21,"Profesional"),f.Mb(),f.Lb(22,"ion-input",9),f.Mb(),f.Mb(),f.Nb(23,"ion-button",10),f.Lb(24,"ion-icon",11),f.ic(25," \xa0 Crear nuevo servicio "),f.Mb(),f.Mb(),f.Mb()),2&e&&(f.Ab(8),f.ac("formGroup",i.serviceForm),f.Ab(15),f.ac("disabled",!i.serviceForm.valid))},directives:[d.n,d.F,d.E,d.f,d.e,d.o,d.j,l.k,l.h,l.c,d.s,d.p,d.K,l.g,l.b,d.q,d.r],styles:[""]}),r),y=((n=function(){function e(i){_classCallCheck(this,e),this.alertController=i}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"presentAlert",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["OK"]}).then((function(e){return e.present()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertMultipleButtons",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Subtitle",message:"This is an alert message.",buttons:["Cancel","Open Modal","Delete"]}).then((function(e){return e.present()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertConfirm",value:function(e,i){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Promise((function(e){n=e})),t.next=3,this.alertController.create({cssClass:"my-custom-class",header:e,message:i,buttons:[{text:"Nel",role:"cancel",cssClass:"secondary",handler:function(){return n(!1)}},{text:"Vos dale",handler:function(){return n(!0)}}]});case 3:return o=t.sent,t.next=6,o.present();case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"presentAlertPrompt",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"name1",type:"text",placeholder:"Placeholder 1"},{name:"name2",type:"text",id:"name2-id",value:"hello",placeholder:"Placeholder 2"},{name:"paragraph",id:"paragraph",type:"textarea",placeholder:"Placeholder 3"},{name:"name3",value:"http://ionicframework.com",type:"url",placeholder:"Favorite site ever"},{name:"name4",type:"date",min:"2017-03-01",max:"2018-01-12"},{name:"name5",type:"date"},{name:"name6",type:"number",min:-5,max:10},{name:"name7",type:"number"},{name:"name8",type:"password",placeholder:"Advanced Attributes",cssClass:"specialClass",attributes:{maxlength:4,inputmode:"decimal"}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertRadio",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Radio",inputs:[{name:"radio1",type:"radio",label:"Radio 1",value:"value1",checked:!0},{name:"radio2",type:"radio",label:"Radio 2",value:"value2"},{name:"radio3",type:"radio",label:"Radio 3",value:"value3"},{name:"radio4",type:"radio",label:"Radio 4",value:"value4"},{name:"radio5",type:"radio",label:"Radio 5",value:"value5"},{name:"radio6",type:"radio",label:"Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 ",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertCheckbox",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Checkbox",inputs:[{name:"checkbox1",type:"checkbox",label:"Checkbox 1",value:"value1",checked:!0},{name:"checkbox2",type:"checkbox",label:"Checkbox 2",value:"value2"},{name:"checkbox3",type:"checkbox",label:"Checkbox 3",value:"value3"},{name:"checkbox4",type:"checkbox",label:"Checkbox 4",value:"value4"},{name:"checkbox5",type:"checkbox",label:"Checkbox 5",value:"value5"},{name:"checkbox6",type:"checkbox",label:"Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6 Checkbox 6",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(){console.log("Confirm Ok")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||n)(f.Kb(d.a))},n.\u0275cmp=f.Eb({type:n,selectors:[["app-alerts"]],decls:2,vars:0,template:function(e,i){1&e&&(f.Nb(0,"p"),f.ic(1," alerts works!\n"),f.Mb())},styles:[""]}),n),C=t("lGQG"),S=t("UbJi");function x(e,i){if(1&e){var t=f.Ob();f.Nb(0,"ion-button",4),f.Vb("click",(function(){f.dc(t);var e=f.Xb().$implicit;return f.Xb().editService(e.id)})),f.Lb(1,"ion-icon",14),f.Mb()}}function M(e,i){1&e&&(f.Nb(0,"ion-button",15),f.Lb(1,"ion-icon",14),f.Mb())}function N(e,i){if(1&e){var t=f.Ob();f.Nb(0,"ion-button",4),f.Vb("click",(function(){f.dc(t);var e=f.Xb().$implicit;return f.Xb().removeService(e.id)})),f.Lb(1,"ion-icon",16),f.Mb()}}function w(e,i){1&e&&(f.Nb(0,"ion-button",15),f.Lb(1,"ion-icon",16),f.Mb())}function R(e,i){if(1&e&&(f.Nb(0,"ion-item"),f.Nb(1,"ion-thumbnail",1),f.Lb(2,"img",9),f.Mb(),f.Nb(3,"ion-label",10),f.Nb(4,"h2"),f.ic(5),f.Mb(),f.Nb(6,"p"),f.ic(7),f.Mb(),f.Nb(8,"p"),f.ic(9),f.Mb(),f.Mb(),f.gc(10,x,2,0,"ion-button",11),f.gc(11,M,2,0,"ng-template",null,12,f.hc),f.gc(13,N,2,0,"ion-button",11),f.gc(14,w,2,0,"ng-template",null,13,f.hc),f.Mb()),2&e){var t=i.$implicit,n=f.cc(12),r=f.cc(15),o=f.Xb();f.Ab(5),f.jc(t.data.nombreServicio),f.Ab(2),f.jc(t.data.idProfesional),f.Ab(2),f.jc(t.data.descripcionServicio),f.Ab(1),f.ac("ngIf",t.data.userUid==o.userUid&&1==o.isAdmin)("ngIfElse",n),f.Ab(3),f.ac("ngIf",t.data.userUid==o.userUid&&1==o.isAdmin)("ngIfElse",r)}}function _(e,i){if(1&e){var t=f.Ob();f.Nb(0,"ion-fab",17),f.Nb(1,"ion-fab-button",4),f.Vb("click",(function(){return f.dc(t),f.Xb().addService()})),f.Lb(2,"ion-icon",18),f.Mb(),f.Mb()}}var A,P,j,O=[{path:"",component:(A=function(){function e(i,t,n,r,o,a,c){_classCallCheck(this,e),this.alertCntrl=i,this.router=t,this.firebaseServiceService=n,this.modalController=r,this.authSvc=o,this.afAuth=a,this.ngZone=c,this.services=[],this.isAdmin=null,this.userUid=null,this.alrt=new y(this.alertCntrl)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getServices(),this.getCurrentUser()}},{key:"getServices",value:function(){var e=this;this.services=[],this.firebaseServiceService.getServices().subscribe((function(i){i.forEach((function(i){e.services.push({id:i.payload.doc.id,data:i.payload.doc.data()})}))}))}},{key:"getCurrentUser",value:function(){var e=this;this.authSvc.isAuth().subscribe((function(i){i&&(e.userUid=i.uid,e.authSvc.isUserAdmin(e.userUid).subscribe((function(i){e.isAdmin=Object.assign({},i.roles),e.isAdmin=e.isAdmin.hasOwnProperty("professional")})))}))}},{key:"searchServices",value:function(e){var i=this,t=e.target.value;console.log("La busqueda es:"+t),this.services=[],this.firebaseServiceService.getService(t).subscribe((function(e){i.services.push({id:e.payload.id,data:e.payload.data()})}))}},{key:"editService",value:function(e){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var t,n=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:g,componentProps:{documentid:e}});case 2:(t=i.sent).onDidDismiss().then((function(e){n.getServices()})),t.present();case 4:case"end":return i.stop()}}),i,this)})))}},{key:"addService",value:function(){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:k,componentProps:{userUid:this.userUid}});case 2:(i=e.sent).onDidDismiss().then((function(e){t.getServices()})),i.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"removeService",value:function(e){return Object(v.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var t=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alrt.presentAlertConfirm("Suave chatel!","Seguro quer\xe9s borrar este servicio prix?");case 2:if(!i.sent){i.next=7;break}return i.next=5,this.firebaseServiceService.deleteService(e).then((function(){t.getServices(),console.log("Deleted")}));case 5:i.next=8;break;case 7:console.log("Canceled");case 8:case"end":return i.stop()}}),i,this)})))}},{key:"logOut",value:function(){console.log("Hasta pronto!"),this.authSvc.logout()}}]),e}(),A.\u0275fac=function(e){return new(e||A)(f.Kb(d.a),f.Kb(m.g),f.Kb(p),f.Kb(d.I),f.Kb(C.a),f.Kb(S.a),f.Kb(f.z))},A.\u0275cmp=f.Eb({type:A,selectors:[["app-feed"]],decls:15,vars:2,consts:[["color","primary",1,"center"],["slot","start"],["autoHide","true"],["slot","secondary"],[3,"click"],["name","exit-outline"],[3,"ionInput"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIfElse","ngIf"],["src","../../../assets/images/nicaBandera.png"],[1,"ion-text-wrap"],[3,"click",4,"ngIf","ngIfElse"],["noProfessional",""],["noProfessionalRemove",""],["name","create-outline"],["hidden","true","disabled","true"],["name","trash-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-circle"]],template:function(e,i){1&e&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar",0),f.Nb(2,"ion-buttons",1),f.Lb(3,"ion-menu-button",2),f.Mb(),f.Nb(4,"ion-buttons",3),f.Nb(5,"ion-button",4),f.Vb("click",(function(){return i.logOut()})),f.Lb(6,"ion-icon",5),f.Mb(),f.Mb(),f.Nb(7,"ion-title"),f.ic(8,"Servicios"),f.Mb(),f.Mb(),f.Mb(),f.Nb(9,"ion-content"),f.Nb(10,"ion-searchbar",6),f.Vb("ionInput",(function(e){return i.searchServices(e)})),f.Mb(),f.Nb(11,"ion-grid"),f.Nb(12,"ion-list"),f.gc(13,R,16,7,"ion-item",7),f.Mb(),f.Mb(),f.gc(14,_,3,0,"ion-fab",8),f.Mb()),2&e&&(f.Ab(13),f.ac("ngForOf",i.services),f.Ab(1),f.ac("ngIf",i.userUid&&1==i.isAdmin))},directives:[d.n,d.F,d.f,d.u,d.e,d.o,d.E,d.j,d.x,d.K,d.m,d.s,s.h,s.i,d.q,d.D,d.r,d.k,d.l],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]}),A)}],U=((j=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:j}),j.\u0275inj=f.Hb({factory:function(e){return new(e||j)},imports:[[m.i.forChild(O)],m.i]}),j),I=((P=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:P}),P.\u0275inj=f.Hb({factory:function(e){return new(e||P)},imports:[[c.a,s.b,l.d,l.i,d.G,U,u.a.initializeApp(b.a.firebase)]]}),P)}}]);