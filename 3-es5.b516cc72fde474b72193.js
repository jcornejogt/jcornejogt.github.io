function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{lGXy:function(e,i,t){"use strict";t.r(i),t.d(i,"FeedPageModule",(function(){return N}));var n,o=t("ofXK"),r=t("3Pt+"),c=t("spgP"),a=t("TEn/"),s=t("AytR"),b=t("tyNb"),u=t("mrSG"),l=t("fXoL"),d=t("eqoN"),f=((n=function(){function e(i,t,n,o){_classCallCheck(this,e),this.ModalController=i,this.firebaseServiceService=t,this.router=n,this.formBuilder=o,this.currentStatus=1,this.editServiceForm=o.group({id:["",r.j.required],nombreServicio:["",r.j.required],descripcionServicio:["",r.j.required],idProfesional:["",r.j.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,i=this.firebaseServiceService.getService(this.documentid).subscribe((function(t){e.currentStatus=2,e.editServiceForm.setValue({id:e.documentid,nombreServicio:t.payload.data().nombreServicio,idProfesional:t.payload.data().idProfesional,descripcionServicio:t.payload.data().descripcionServicio}),i.unsubscribe()}))}},{key:"editService",value:function(e){var i=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentid;this.firebaseServiceService.updateService(t,{id:e.id,nombreServicio:e.nombreServicio,idProfesional:e.idProfesional,descripcionServicio:e.descripcionServicio}).then((function(){i.currentStatus=1,i.editServiceForm.setValue({id:"",nombreServicio:"",idProfesional:"",descripcionServicio:""}),console.log("Documento editado exit\xf3samente"),i.ModalController.dismiss()}),(function(e){console.log(e)}))}},{key:"dismissModal",value:function(){this.ModalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||n)(l.Kb(a.G),l.Kb(d.a),l.Kb(b.g),l.Kb(r.a))},n.\u0275cmp=l.Eb({type:n,selectors:[["app-modal-edit-service"]],decls:22,vars:2,consts:[["color","primary",1,"center"],["slot","end"],[3,"click"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["color","primary","position","stacked"],["type","text","placehorder","Ej: Jardineria","formControlName","nombreServicio"],["type","text","placehorder","Ej: Jardineria","formControlName","descripcionServicio"],["type","text","formControlName","idProfesional"],["type","submit","value","Guardar Cambios",1,"btn--blue","btn--add",3,"disabled"]],template:function(e,i){1&e&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar",0),l.Nb(2,"ion-title"),l.gc(3,"Editar servicio"),l.Mb(),l.Nb(4,"ion-buttons",1),l.Nb(5,"ion-button",2),l.Vb("click",(function(){return i.dismissModal()})),l.gc(6,"Cerrar"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"ion-content"),l.Nb(8,"form",3),l.Vb("ngSubmit",(function(){return i.editService(i.editServiceForm.value)})),l.Nb(9,"ion-list"),l.Nb(10,"ion-item"),l.Lb(11,"ion-input",4),l.Nb(12,"ion-label",5),l.gc(13,"Nombre del Servicio"),l.Mb(),l.Lb(14,"ion-input",6),l.Nb(15,"ion-label",5),l.gc(16,"Descripcion del servicio"),l.Mb(),l.Lb(17,"ion-input",7),l.Nb(18,"ion-label",5),l.gc(19,"Profesional"),l.Mb(),l.Lb(20,"ion-input",8),l.Lb(21,"input",9),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&e&&(l.Ab(8),l.ac("formGroup",i.editServiceForm),l.Ab(13),l.ac("disabled",!i.editServiceForm.valid))},directives:[a.l,a.D,a.C,a.e,a.d,a.i,r.k,r.h,r.c,a.q,a.o,a.n,a.I,r.g,r.b,a.p],styles:[""]}),n),v=t("lGQG"),p=t("UbJi");function m(e,i){if(1&e){var t=l.Ob();l.Nb(0,"ion-item"),l.Nb(1,"ion-thumbnail",1),l.Lb(2,"img",10),l.Mb(),l.Nb(3,"ion-label",11),l.Nb(4,"h2"),l.gc(5),l.Mb(),l.Nb(6,"p"),l.gc(7),l.Mb(),l.Nb(8,"p"),l.gc(9),l.Mb(),l.Mb(),l.Nb(10,"button",12),l.Vb("click",(function(){l.cc(t);var e=i.$implicit;return l.Xb().editService(e.id)})),l.gc(11,"Editar"),l.Mb(),l.Mb()}if(2&e){var n=i.$implicit;l.Ab(5),l.hc(n.data.nombreServicio),l.Ab(2),l.hc(n.data.idProfesional),l.Ab(2),l.hc(n.data.descripcionServicio)}}var h,S,g,y=[{path:"",component:(h=function(){function e(i,t,n,o,r,c){_classCallCheck(this,e),this.router=i,this.firebaseServiceService=t,this.modalController=n,this.authSvc=o,this.afAuth=r,this.ngZone=c,this.services=[],this.isAdmin=null,this.userUid=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firebaseServiceService.getServices().subscribe((function(i){i.forEach((function(i){e.services.push({id:i.payload.doc.id,data:i.payload.doc.data()})}))}))}},{key:"getCurrentUser",value:function(){var e=this;this.authSvc.isAuth().subscribe((function(i){i&&(e.userUid=i.uid,e.authSvc.isUserAdmin(e.userUid).subscribe((function(i){e.isAdmin=Object.assign({},i.roles),e.isAdmin=e.isAdmin.hasOwnProperty("admin")})))}))}},{key:"searchServices",value:function(e){console.log("La busqueda es:"+e.target.value)}},{key:"editService",value:function(e){return Object(u.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var t;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:f,componentProps:{documentid:e}});case 2:return t=i.sent,i.next=5,t.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"addService",value:function(){this.router.navigateByUrl("/home/add-service")}},{key:"logOut",value:function(){console.log("Hasta pronto!"),this.authSvc.logout()}}]),e}(),h.\u0275fac=function(e){return new(e||h)(l.Kb(b.g),l.Kb(d.a),l.Kb(a.G),l.Kb(v.a),l.Kb(p.a),l.Kb(l.z))},h.\u0275cmp=l.Eb({type:h,selectors:[["app-feed"]],decls:16,vars:1,consts:[["color","primary",1,"center"],["slot","start"],["autoHide","true"],["slot","secondary"],[3,"click"],["name","exit-outline"],[3,"ionInput"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-circle"],["src","../../../assets/images/nicaBandera.png"],[1,"ion-text-wrap"],[1,"btn--green","btn--s","btn1",3,"click"]],template:function(e,i){1&e&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar",0),l.Nb(2,"ion-buttons",1),l.Lb(3,"ion-menu-button",2),l.Mb(),l.Nb(4,"ion-buttons",3),l.Nb(5,"ion-button",4),l.Vb("click",(function(){return i.logOut()})),l.Lb(6,"ion-icon",5),l.Mb(),l.Mb(),l.Nb(7,"ion-title"),l.gc(8,"Servicios"),l.Mb(),l.Mb(),l.Mb(),l.Nb(9,"ion-content"),l.Nb(10,"ion-searchbar",6),l.Vb("ionInput",(function(e){return i.searchServices(e)})),l.Mb(),l.Nb(11,"ion-list"),l.fc(12,m,12,3,"ion-item",7),l.Mb(),l.Nb(13,"ion-fab",8),l.Nb(14,"ion-fab-button",4),l.Vb("click",(function(){return i.addService()})),l.Lb(15,"ion-icon",9),l.Mb(),l.Mb(),l.Mb()),2&e&&(l.Ab(12),l.ac("ngForOf",i.services))},directives:[a.l,a.D,a.e,a.s,a.d,a.m,a.C,a.i,a.v,a.I,a.q,o.h,a.j,a.k,a.o,a.B,a.p],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]}),h)}],M=((g=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ib({type:g}),g.\u0275inj=l.Hb({factory:function(e){return new(e||g)},imports:[[b.i.forChild(y)],b.i]}),g),N=((S=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ib({type:S}),S.\u0275inj=l.Hb({factory:function(e){return new(e||S)},imports:[[o.b,r.d,r.i,a.E,M,c.a.initializeApp(s.a.firebase)]]}),S)}}]);