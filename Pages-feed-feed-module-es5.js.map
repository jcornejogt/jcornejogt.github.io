{"version":3,"sources":["webpack:///src/app/Components/modal-edit-service/modal-edit-service.component.html","webpack:///src/app/Pages/feed/feed.page.html","webpack:///src/app/Components/modal-edit-service/modal-edit-service.component.scss","webpack:///src/app/Components/modal-edit-service/modal-edit-service.component.ts","webpack:///src/app/Pages/feed/feed-routing.module.ts","webpack:///src/app/Pages/feed/feed.module.ts","webpack:///src/app/Pages/feed/feed.page.scss","webpack:///src/app/Pages/feed/feed.page.ts"],"names":["ModalEditServiceComponent","ModalController","firebaseServiceService","router","formBuilder","currentStatus","editServiceForm","group","id","required","nombreServicio","descripcionServicio","idProfesional","editSubscribe","getService","documentid","subscribe","service","setValue","payload","data","unsubscribe","form","documentId","updateService","then","console","log","error","dismiss","selector","template","routes","path","component","FeedPageRoutingModule","imports","forChild","exports","FeedPageModule","initializeApp","firebase","declarations","entryComponents","FeedPage","modalController","authSvc","afAuth","services","getServices","forEach","push","doc","toString","$event","value","target","docId","create","componentProps","modal","present","navigateByUrl","signOut"],"mappings":"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","file":"Pages-feed-feed-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\" class=\\\"center\\\">\\r\\n    <ion-title>Editar servicio</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"dismissModal()\\\">Cerrar</ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n  <form (ngSubmit)=\\\"editService(editServiceForm.value)\\\" [formGroup]=\\\"editServiceForm\\\">\\r\\n\\r\\n    <ion-list>\\r\\n\\r\\n      <ion-item>\\r\\n        \\r\\n        <input type=\\\"hidden\\\" formControlName=\\\"id\\\">\\r\\n\\r\\n        <ion-label color=\\\"primary\\\" position=\\\"stacked\\\">Nombre del Servicio</ion-label>\\r\\n        <ion-input type=\\\"text\\\" placehorder=\\\"Ej: Jardineria\\\" formControlName=\\\"nombreServicio\\\"></ion-input>\\r\\n     \\r\\n        <ion-label color=\\\"primary\\\" position=\\\"stacked\\\">Descripcion del servicio</ion-label>\\r\\n        <ion-input type=\\\"text\\\" placehorder=\\\"Ej: Jardineria\\\" formControlName=\\\"descripcionServicio\\\"></ion-input>\\r\\n     \\r\\n        <ion-label color=\\\"primary\\\" position=\\\"stacked\\\">Profesional</ion-label>\\r\\n        <ion-input type=\\\"text\\\" formControlName=\\\"idProfesional\\\"></ion-input>\\r\\n        \\r\\n        <input type=\\\"submit\\\" class=\\\"btn--blue btn--add\\\" [disabled]=\\\"!editServiceForm.valid\\\" value=\\\"Guardar Cambios\\\">\\r\\n      </ion-item>\\r\\n\\r\\n\\r\\n    </ion-list>\\r\\n  </form>\\r\\n\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\" class=\\\"center\\\">\\r\\n\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button autoHide=\\\"true\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-buttons slot=\\\"secondary\\\">\\r\\n      <ion-button (click)=\\\"logOut()\\\">\\r\\n        <ion-icon name=\\\"exit-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Servicios</ion-title>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-searchbar (ionInput)=\\\"searchServices($event)\\\"></ion-searchbar>\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item *ngFor=\\\"let item of services\\\">\\r\\n      <ion-thumbnail slot=\\\"start\\\">\\r\\n        <img src=\\\"../../../assets/images/nicaBandera.png\\\">\\r\\n      </ion-thumbnail>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <h2>{{item.data.nombreServicio}}</h2>\\r\\n        <p>{{item.data.idProfesional}}</p>\\r\\n        <p>{{item.data.descripcionServicio}}</p>\\r\\n      </ion-label>\\r\\n      <button class=\\\"btn--green btn--s btn1\\\" (click)=\\\"editService(item.id)\\\">Editar</button>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n  <!-- fab placed to the bottom end -->\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click)=\\\"addService()\\\">\\r\\n      <ion-icon name=\\\"add-circle\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL0NvbXBvbmVudHMvbW9kYWwtZWRpdC1zZXJ2aWNlL21vZGFsLWVkaXQtc2VydmljZS5jb21wb25lbnQuc2NzcyJ9 */\";","import { ModalController } from '@ionic/angular';\r\nimport { Component, Input } from '@angular/core';\r\nimport { FirebaseServiceService } from 'src/app/services/firebase-service.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-modal-edit-service',\r\n  templateUrl: './modal-edit-service.component.html',\r\n  styleUrls: ['./modal-edit-service.component.scss'],\r\n})\r\nexport class ModalEditServiceComponent {\r\n\r\n  public documentid: any;\r\n\r\n  public editServiceForm: FormGroup;\r\n  public currentStatus = 1;\r\n\r\n  constructor(\r\n    private ModalController: ModalController, \r\n    private firebaseServiceService: FirebaseServiceService,\r\n    public router: Router, \r\n    public formBuilder: FormBuilder) {\r\n\r\n  this.editServiceForm = formBuilder.group({\r\n      id: ['', Validators.required],\r\n      nombreServicio: ['', Validators.required],\r\n      descripcionServicio: ['', Validators.required],\r\n      idProfesional: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() { \r\n    let editSubscribe = this.firebaseServiceService.getService(this.documentid).subscribe((service) => {\r\n      this.currentStatus = 2;\r\n      this.editServiceForm.setValue({\r\n        id: this.documentid,\r\n        nombreServicio: service.payload.data()['nombreServicio'],\r\n        idProfesional: service.payload.data()['idProfesional'],\r\n        descripcionServicio: service.payload.data()['descripcionServicio']\r\n      });\r\n      editSubscribe.unsubscribe();\r\n    });\r\n   }\r\n\r\n  public editService(form, documentId = this.documentid) {\r\n    let data = {\r\n      nombreServicio: form.nombreServicio,\r\n      idProfesional: form.idProfesional,\r\n      descripcionServicio: form.descripcionServicio\r\n    }\r\n    this.firebaseServiceService.updateService(documentId, data).then(() => {\r\n      this.currentStatus = 1;\r\n      this.editServiceForm.setValue({\r\n        nombreServicio: '',\r\n        idProfesional: '',\r\n        descripcionServicio: ''\r\n      });\r\n      console.log('Documento editado exitósamente');\r\n    }, (error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  dismissModal() {\r\n    this.ModalController.dismiss();\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FeedPage } from './feed.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FeedPage\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FeedPageRoutingModule {}\r\n","import { ModalEditServiceComponent } from './../../Components/modal-edit-service/modal-edit-service.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { environment } from '../../../environments/environment';\r\nimport { FeedPageRoutingModule } from './feed-routing.module';\r\n\r\nimport { FeedPage } from './feed.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    FeedPageRoutingModule,\r\n    AngularFireModule.initializeApp(environment.firebase)\r\n  ],\r\n  declarations: [FeedPage, ModalEditServiceComponent],\r\n  entryComponents: [ModalEditServiceComponent]\r\n})\r\nexport class FeedPageModule {}\r\n","export default \".center {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvZmVlZC9DOlxcVXNlcnNcXFVzdWFyaW9cXERvY3VtZW50c1xcUHJveWVjdG9zSW9uaWNcXGpjb3JuZWpvZ3QuZ2l0aHViLmlvL3NyY1xcYXBwXFxQYWdlc1xcZmVlZFxcZmVlZC5wYWdlLnNjc3MiLCJzcmMvYXBwL1BhZ2VzL2ZlZWQvZmVlZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvZmVlZC9mZWVkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50ZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH0iLCIuY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */\";","import { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { ModalEditServiceComponent } from './../../Components/modal-edit-service/modal-edit-service.component';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { FirebaseServiceService } from '../../services/firebase-service.service';\r\n\r\n@Component({\r\n  selector: 'app-feed',\r\n  templateUrl: './feed.page.html',\r\n  styleUrls: ['./feed.page.scss'],\r\n})\r\nexport class FeedPage implements OnInit {\r\n  \r\n  public services = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private firebaseServiceService: FirebaseServiceService,\r\n    private modalController: ModalController,\r\n    private authSvc: AuthService,\r\n    private afAuth: AngularFireAuth\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.firebaseServiceService.getServices().subscribe((service) => {\r\n      this.services = [];\r\n      service.forEach((service: any) => {\r\n        this.services.push({\r\n          id: service.payload.doc.id,\r\n          data: service.payload.doc.data()\r\n        });\r\n        console.log(\"info de coleccion: \"+ this.services.toString());\r\n      })\r\n    });\r\n\r\n  }\r\n\r\n  searchServices($event) {\r\n    const value = $event.target.value;\r\n    console.log(\"La busqueda es:\" + value);\r\n  }\r\n\r\n  async editService(docId: any) {\r\n    const modal = await this.modalController.create({\r\n      component: ModalEditServiceComponent,\r\n      componentProps: {\r\n        documentid: docId\r\n      }\r\n    });\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  addService() {\r\n    this.router.navigateByUrl('/home/add-service');\r\n  }\r\n\r\n  logOut(){\r\nconsole.log('Hasta pronto!');\r\nthis.afAuth.signOut();\r\nthis.router.navigateByUrl('/login')\r\n  }\r\n\r\n}\r\n"]}